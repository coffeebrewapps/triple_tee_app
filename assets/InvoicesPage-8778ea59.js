import{D as x}from"./DataPage-4999849a.js";import{m as w,b as l,o as C,f as F,q as n,s as o,t as a,j as s,g as c}from"./index-b3ed4318.js";import{u as N}from"./utils-c659d292.js";import"./input-811f8f86.js";import"./errors-53bc63a8.js";import"./DataForm-ebf3e12e.js";const j={__name:"InvoicesPage",props:{contactId:{type:String,default:null}},setup(d){const i=d,r=w(),{fieldsLayout:u,generateDataFields:p,validations:f,generateFilters:m}=N(),g=l(()=>p(i.contactId)),I=l(()=>m(i.contactId)),v={view:{click:async function(e,_){await h(e)}},create:{click:async function(){await D()}}},y={oneline:!0,showHeader:!1,highlightField:"invoiceNumber"};async function h(e){r.push({name:"Contact View Invoice",params:{invoiceId:e.id,contactId:e.contactId}})}async function D(){r.push({name:"Contact Create Invoice",params:{contactId:i.contactId}})}return(e,_)=>(C(),F(x,{"model-class":"invoices","data-type":"Invoices",fullscreen:!0,"fields-layout":c(u),"data-fields":c(g),validations:c(f),filters:c(I),actions:v,"table-style":y},{["highlight.invoiceNumber"]:n(({formattedValue:t})=>[o(" Invoice Number "+a(t.toString().padStart(6,"0")),1)]),["data-col.invoiceDate"]:n(({formattedValue:t})=>[o(" Invoiced on "),s("strong",null,a(t),1)]),["data-col.dueDate"]:n(({formattedValue:t})=>[o(" Due on "),s("strong",null,a(t),1)]),["data-col.totalAmount"]:n(({row:t,formattedValue:b})=>[o(" Total "),s("strong",null,a(t.includes.currencyId[t.currencyId].code)+a(b.toFixed(2)),1)]),_:2},1032,["fields-layout","data-fields","validations","filters"]))}};export{j as default};
