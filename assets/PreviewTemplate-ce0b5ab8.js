import{_ as b,m as w,a as S,u as B,b as u,r as i,d as C,o as d,c as D,j as M,t as E,g as m,f as j,e as x}from"./index-b3ed4318.js";import{u as R}from"./utils-3e19fdef.js";import{T as I}from"./TemplateEditor-6070bea0.js";import"./TabContainer-41a4bb62.js";const O={class:"page-container"},P={class:"heading"},U={__name:"PreviewTemplate",props:{disabled:{type:Boolean,default:!1}},setup(v){const _=w(),l=S(),{flashMessage:n}=B(),{initSampleData:y}=R(),p=Object.assign({},_.currentRoute.value),r=u(()=>p.params.id),t=u(()=>p.params.templateType),c=i({}),e=i(),f=u(()=>e.value?t.value==="invoice_templates"?`Invoice Template: ${e.value.name}`:`Receipt Template: ${e.value.name}`:"");async function g(a){const o=Object.assign({},e.value,{contentMarkup:a});await l.update(t.value,r.value,o).then(s=>{e.value=s,n("Updated markup successfully!")}).catch(s=>{console.error(s),n("Error updating markup!")})}async function h(a){const o=Object.assign({},e.value,{contentStyles:a});await l.update(t.value,r.value,o).then(s=>{e.value=s,n("Updated styles successfully!")}).catch(s=>{console.error(s),n("Error updating styles !")})}function k(a){c.value[t.value]=a}async function T(){await l.view(t.value,r.value,{}).then(a=>{e.value=a}).catch(a=>{n("Error loading template!"),console.error(a)})}return C(async()=>{c.value=y(t.value),await T()}),(a,o)=>(d(),D("div",O,[M("h2",P,E(m(f)),1),e.value?(d(),j(I,{key:0,id:e.value.id,"template-type":m(t),"content-markup":e.value.contentMarkup,"content-styles":e.value.contentStyles,data:c.value,disabled:v.disabled,onContentMarkupChange:g,onContentStylesChange:h,onDataChange:k},null,8,["id","template-type","content-markup","content-styles","data","disabled"])):x("",!0)]))}},q=b(U,[["__scopeId","data-v-6a1ad476"]]);export{q as default};
