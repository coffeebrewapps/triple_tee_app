import{_ as A,n as Z,b as S,a as I,r as m,c as s,o as k,d as v,e as D,j as N,t as B,h as r,g as w,f as E}from"./index-b3128bd9.js";import{T as x}from"./TemplateEditor-4d9b7e97.js";import"./TabContainer-8746c156.js";const V={class:"page-container"},P={class:"heading"},R={__name:"PreviewTemplate",props:{disabled:{type:Boolean,default:!1}},setup(y){const f=Z(),c=S(),d=I(),o=m({}),p=Object.assign({},f.currentRoute.value),i=s(()=>p.params.id),a=s(()=>p.params.templateType),e=m(),T=s(()=>e.value?a.value==="invoice_templates"?`Invoice Template: ${e.value.name}`:`Receipt Template: ${e.value.name}`:"");async function b(t){const l=Object.assign({},e.value,{contentMarkup:t});await c.update(a.value,i.value,l).then(u=>{e.value=u,n("Updated markup successfully!")}).catch(u=>{n("Error updating markup!")})}async function g(t){const l=Object.assign({},e.value,{contentStyles:t});await c.update(a.value,i.value,l).then(u=>{e.value=u,n("Updated styles successfully!")}).catch(u=>{n("Error updating styles !")})}function _(t){o.value[a.value]=t}function n(t){d.show(t),setTimeout(h,5e3)}function h(){d.hide()}async function C(){await c.view(a.value,i.value,{}).then(t=>{e.value=t}).catch(t=>{n("Error loading template!"),console.log(t)})}return k(async()=>{o.value={invoice_templates:{invoice:{invoiceNumber:2,invoiceDate:"2023-05-26T14:06:15.686Z",dueDate:"2023-06-25T14:06:15.686Z",totalAmount:574.98},invoiceLines:[{id:"1",description:"Requirements gathering",unit:"hour",unitCost:100,unitValue:2.06,subtotal:205.93,invoiceId:"1",createdAt:"2023-05-26T14:07:10.051Z",updatedAt:"2023-05-26T14:07:10.051Z"},{id:"2",description:"Implementation",unit:"hour",unitCost:85,unitValue:4.17,subtotal:354.05,invoiceId:"1",createdAt:"2023-05-26T14:07:10.055Z",updatedAt:"2023-05-26T14:07:10.055Z"},{id:"3",description:"GST",unit:"fixed",unitCost:15,unitValue:1,subtotal:15,invoiceId:"1",createdAt:"2023-05-26T14:07:10.057Z",updatedAt:"2023-05-26T14:07:10.057Z"}],invoiceConfig:{id:"1",invoiceCycleDurationValue:1,invoiceCycleDurationUnit:"month",dueDateCycleValue:30,dueDateCycleUnit:"day",paymentTerms:"Payment due to account 395-17573-542",tags:["1"],customFields:{},invoiceNumberSequenceId:"1",billingContactId:"1",invoiceTemplateId:"1",currencyId:"1",createdAt:"2023-05-26T06:32:33.830Z",updatedAt:"2023-05-26T06:32:33.830Z"},invoiceNumberSequence:{id:"1",name:"Company ABC Invoice Sequence",startingNumber:1,lastUsedNumber:1,incrementStep:1,prefix:"INV",suffix:"ABC",createdAt:"2023-05-26T06:30:04.445Z",updatedAt:"2023-05-26T06:30:04.445Z"},billingContact:{id:"1",name:"Company ABC",accountNumber:null,addressLine1:null,addressLine2:null,addressLine3:null,city:null,state:null,country:"Singapore",postcode:null,contactNumber1:null,contactNumber2:null,contactNumber3:null,contactPerson1:null,contactPerson2:null,contactPerson3:null,contactEmail1:null,contactEmail2:null,contactEmail3:null,url1:null,url2:null,url3:null,logo:null,customFields:null,createdAt:"2023-05-26T06:30:24.570Z",updatedAt:"2023-05-26T06:30:24.570Z"},currency:{id:"1",code:"USD",symbol:"$",exchangeRate:1,effectiveStart:"2012-12-31T16:00:00.000Z",effectiveEnd:null,createdAt:"2023-05-26T06:29:49.052Z",updatedAt:"2023-05-26T06:29:49.052Z"}}},await C()}),(t,l)=>(v(),D("div",V,[N("h2",P,B(r(T)),1),e.value?(v(),w(x,{key:0,"template-type":r(a),id:e.value.id,"content-markup":e.value.contentMarkup,"content-styles":e.value.contentStyles,data:o.value[r(a)],disabled:y.disabled,onContentMarkupChange:b,onContentStylesChange:g,onDataChange:_},null,8,["template-type","id","content-markup","content-styles","data","disabled"])):E("",!0)]))}},q=A(R,[["__scopeId","data-v-8fb1f492"]]);export{q as default};
