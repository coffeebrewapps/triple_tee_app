import{_ as K,m as U,a as z,q as G,u as J,l as Q,c as T,r as B,o as W,b as e,d as o,i as f,t as g,g as t,f as i,P as X,e as n,s as r,F as S,v as D,p as Y,h as Z}from"./index-e250c108.js";import{u as tt}from"./input-55429245.js";import{u as et}from"./validations-9a1af222.js";import{u as at}from"./utils-39b748b2.js";import{T as nt}from"./TabContainer-32d838c0.js";import ot from"./InvoiceConfigs-5665a54c.js";import st from"./ReceiptConfigs-ec223908.js";import ct from"./BillingConfigs-aed2a2b2.js";import it from"./InvoicesPage-7281d7a1.js";import"./DataPage-7b091a96.js";import"./errors-53bc63a8.js";import"./DataForm-d9a2dbbe.js";import"./utils-7b0831a9.js";const lt=d=>(Y("data-v-7d3749e4"),d=d(),Z(),d),ut={class:"page-container"},rt={class:"heading"},dt={key:0,class:"contact-container"},_t={class:"field-label"},vt={key:0,class:"field-value"},pt={key:0},mt=["src"],gt={key:1,class:"field-value"},ft=lt(()=>f("span",null,"--- no value ---",-1)),yt=[ft],ht={__name:"ViewContact",setup(d){const V=U(),{fieldsLayout:R,dataFields:p,includeKeys:m}=at(),{inputLabel:x,inputValue:y,fileField:h}=tt(p),L=z(),{isEmpty:b,notEmpty:C}=et(),_=G(),{flashMessage:k}=J(),I=Q(),$=Object.assign({},V.currentRoute.value),l=T(()=>$.params.id),a=B(),F=T(()=>a.value?`Contact: ${a.value.name}`:"Loading Contact...");async function w(){a.value=null;const u={include:m.value};await L.view("contacts",l.value,u).then(v=>{a.value=v,k("Loaded contact successfully!")}).catch(v=>{console.log(v),k("Error loading contact!")})}const s=B(0),E=[{label:"Details",onchange:w},{label:"Invoice Configs",onchange:j},{label:"Receipt Configs",onchange:A},{label:"Billing Configs",onchange:M},{label:"Invoices",onchange:N}];async function j(){_.emitEvent("loadData",{dataType:"Invoice Configs"})}async function A(){_.emitEvent("loadData",{dataType:"Receipt Configs"})}async function M(){_.emitEvent("loadData",{dataType:"Billing Configs"})}async function N(){_.emitEvent("loadData",{dataType:"Invoices"})}async function O(u){await E[u].onchange(),s.value=u}return W(async()=>{await w()}),(u,v)=>(e(),o("div",ut,[f("h2",rt,g(t(F)),1),a.value?n("",!0):(e(),i(t(X),{key:0})),a.value?(e(),i(nt,{key:1,tabs:E,"selected-tab":s.value,onTabChange:O},{"tab-0":r(()=>[s.value===0?(e(),o("div",dt,[(e(!0),o(S,null,D(t(R),(P,q)=>(e(),o("div",{key:q,class:"data-row"},[(e(!0),o(S,null,D(Object.keys(P),(c,H)=>(e(),o("div",{key:H,class:"data-field"},[f("div",_t,g(t(x)(c)),1),t(C)(a.value)&&t(C)(a.value[c])?(e(),o("div",vt,[t(h)(c)?n("",!0):(e(),o("span",pt,g(t(y)(c,a.value,t(m),t(p),t(I))),1)),t(h)(c)?(e(),o("img",{key:1,style:{width:"50%"},src:t(y)(c,a.value,t(m),t(p),t(I))},null,8,mt)):n("",!0)])):n("",!0),t(b)(a.value)||t(b)(a.value[c])?(e(),o("div",gt,yt)):n("",!0)]))),128))]))),128))])):n("",!0)]),"tab-1":r(()=>[s.value===1?(e(),i(ot,{key:0,"billing-contact-id":t(l)},null,8,["billing-contact-id"])):n("",!0)]),"tab-2":r(()=>[s.value===2?(e(),i(st,{key:0,"billing-contact-id":t(l)},null,8,["billing-contact-id"])):n("",!0)]),"tab-3":r(()=>[s.value===3?(e(),i(ct,{key:0,"contact-id":t(l)},null,8,["contact-id"])):n("",!0)]),"tab-4":r(()=>[s.value===4?(e(),i(it,{key:0,"contact-id":t(l)},null,8,["contact-id"])):n("",!0)]),_:1},8,["selected-tab"])):n("",!0)]))}},Lt=K(ht,[["__scopeId","data-v-7d3749e4"]]);export{Lt as default};
