import{u as y}from"./dataAccess-56231f5b.js";import{a as T}from"./Form-5addd38c.js";import{D as E}from"./DataPage-1fdc983c.js";import{c as s,a as k,e as w,f as n}from"./index-499edfe9.js";import"./errors-a6177d44.js";const h={__name:"view",props:{contactId:{type:String,default:null}},setup(c){const a=c,r=y(),{notEarlierThan:o,greaterThanOrEqual:b}=T(),i=`${r.baseUrl}/api/tags`,f=`${r.baseUrl}/api/contacts`,d=[{description:"lg"},{effectiveStart:"md",effectiveEnd:"md"},{rateType:"md",unitCost:"md",unit:"md"},{includeTags:"lg",excludeTags:"lg"},{contactId:"lg"}],p=s(()=>[{key:"id",type:"text",label:"ID",listable:!0,viewable:!0,creatable:!1,updatable:!1,sortable:!0},{key:"description",type:"text",label:"Description",listable:!0,viewable:!0,creatable:!0,updatable:!0},{key:"effectiveStart",type:"datetime",label:"Effective Start",listable:!0,viewable:!0,creatable:!0,updatable:!1,filterable:!0,sortable:!0},{key:"effectiveEnd",type:"datetime",label:"Effective End",listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!0,sortable:!0},{key:"rateType",type:"enum",label:"Rate Type",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"unit",type:"enum",label:"Unit",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"unitCost",type:"number",label:"Unit Cost",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"includeTags",type:"multiSelect",label:"Include Tags",isTags:!0,reference:{label:t},listable:!1,viewable:!0,creatable:!0,updatable:!0,filterable:!0,options:{server:!0,pagination:!0,modelClass:"tags",sourceUrl:i,value:l,label:t}},{key:"excludeTags",type:"multiSelect",label:"Exclude Tags",isTags:!0,reference:{label:t},listable:!1,viewable:!0,creatable:!0,updatable:!0,filterable:!0,options:{server:!0,pagination:!0,modelClass:"tags",sourceUrl:i,value:l,label:t}},{key:"contactId",type:"singleSelect",label:"Contact",reference:{label:u},defaultValue:()=>a.contactId,listable:!0,viewable:!0,creatable:!0,updatable:!1,filterable:!0,options:{server:!0,pagination:!0,modelClass:"contacts",sourceUrl:f,value:l,label:u}}]),g={create:{unitCost:[e=>b(e,"unitCost",0)],effectiveEnd:[v]}},m=s(()=>{const e={};return a.contactId&&(e.contactId=[{value:a.contactId}]),e.effectiveStart={startTime:null,endTime:null},e.effectiveEnd={startTime:null,endTime:null},{initData:e,layout:[{effectiveStart:"md"},{effectiveEnd:"md"},{includeTags:"lg",excludeTags:"lg"},{contactId:"lg"}]}});function v(e){return o(e,"effectiveEnd","effectiveStart")}function l(e){return e.id}function t(e){return`${e.category}:${e.name}`}function u(e){return e.name}return(e,C)=>(k(),w(E,{"model-class":"billing_configs","data-type":"Billing Configs","url-base":"api/billing_configs","schemas-url-base":"api/schemas/billing_configs",fullscreen:!0,"fields-layout":d,"data-fields":n(p),validations:g,filters:n(m)},null,8,["data-fields","filters"]))}};export{h as default};
