import{u as I}from"./dataAccess-0d808513.js";import{a as k}from"./Form-269cba48.js";import{D as w}from"./DataPage-287b90b8.js";import{c as o,a as V,e as _,f as b}from"./index-e89d949c.js";import"./errors-a6177d44.js";const N={__name:"view",props:{billingContactId:{type:String,default:null}},setup(p){const a=p,t=I(),{greaterThan:r}=k(),d=`${t.baseUrl}/api/tags`,y=`${t.baseUrl}/api/sequences`,m=`${t.baseUrl}/api/contacts`,f=`${t.baseUrl}/api/invoice_templates`,v=`${t.baseUrl}/api/currencies`,g=[{description:"lg"},{invoiceCycleDurationValue:"md",invoiceCycleDurationUnit:"md"},{dueDateCycleValue:"md",dueDateCycleUnit:"md"},{paymentTerms:"lg"},{tags:"lg"},{customFields:"lg"},{invoiceNumberSequenceId:"lg"},{billingContactId:"lg"},{invoiceTemplateId:"lg"},{currencyId:"lg"}],C=o(()=>[{key:"id",type:"text",label:"ID",listable:!0,viewable:!0,creatable:!1,updatable:!1,sortable:!0},{key:"description",type:"text",label:"Description",listable:!0,viewable:!0,creatable:!0,updatable:!0},{key:"invoiceCycleDurationValue",type:"number",label:"Invoice Cycle Duration Value",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"invoiceCycleDurationUnit",type:"enum",label:"Invoice Cycle Duration Unit",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"dueDateCycleValue",type:"number",label:"Due Date Cycle Value",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"dueDateCycleUnit",type:"enum",label:"Due Date Cycle Unit",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"paymentTerms",type:"text",label:"Payment Terms",listable:!1,viewable:!0,creatable:!0,updatable:!0},{key:"tags",type:"multiSelect",label:"Tags",reference:{label:i},listable:!0,viewable:!0,creatable:!0,updatable:!0,filterable:!0,options:{server:!0,pagination:!0,modelClass:"tags",sourceUrl:d,value:l,label:i}},{key:"customFields",type:"object",label:"Custom Fields (JSON)",listable:!1,viewable:!0,creatable:!0,updatable:!0},{key:"invoiceNumberSequenceId",type:"singleSelect",label:"Sequence Number",reference:{label:u},listable:!1,viewable:!0,creatable:!0,updatable:!1,options:{server:!0,pagination:!0,modelClass:"sequences",sourceUrl:y,value:l,label:u}},{key:"billingContactId",type:"singleSelect",label:"Contact",reference:{label:n},defaultValue:()=>a.billingContactId,listable:!0,viewable:!0,creatable:!0,updatable:!1,filterable:!0,options:{server:!0,pagination:!0,modelClass:"contacts",sourceUrl:m,value:l,label:n}},{key:"invoiceTemplateId",type:"singleSelect",label:"Template",reference:{label:s},listable:!1,viewable:!0,creatable:!0,updatable:!0,options:{server:!0,pagination:!0,modelClass:"invoice_templates",sourceUrl:f,value:l,label:s}},{key:"currencyId",type:"singleSelect",label:"Currency",reference:{label:c},listable:!1,viewable:!0,creatable:!0,updatable:!0,options:{server:!0,pagination:!0,modelClass:"currencies",sourceUrl:v,value:l,label:c}}]),D={create:{invoiceCycleDurationValue:[e=>r(e,"invoiceCycleDurationValue",0)],dueDateCycleValue:[e=>r(e,"dueDateCycleValue",0)]}},U=o(()=>{const e={};return a.billingContactId&&(e.billingContactId=[{value:a.billingContactId}]),{initData:e,layout:[{billingContactId:"lg"}]}});function l(e){return e.id}function i(e){return`${e.category}:${e.name}`}function u(e){return e.name}function n(e){return e.name}function s(e){return e.name}function c(e){return`${e.code} (${e.symbol})`}return(e,S)=>(V(),_(w,{"model-class":"invoice_configs","data-type":"Invoice Configs","url-base":"api/invoice_configs","schemas-url-base":"api/schemas/invoice_configs",fullscreen:!0,"fields-layout":g,"data-fields":b(C),validations:D,filters:b(U)},null,8,["data-fields","filters"]))}};export{N as default};
