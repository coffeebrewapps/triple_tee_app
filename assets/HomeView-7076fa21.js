import{u as y,a as w}from"./dataAccess-fd7b5bf9.js";import{_ as x,u as k,c as r,r as e,o as B,a as l,b as d,d as f,e as C,f as _,C as S,p as I,g as V,h as A}from"./index-3bf10a03.js";const D=t=>(I("data-v-2437eaa0"),t=t(),V(),t),H={class:"page-container"},N=D(()=>A("h2",{class:"heading"},"Inbox",-1)),O={key:0,class:"no-data-text"},j={__name:"HomeView",setup(t){const p=y(),v=k(),h=w();r(()=>`${p.baseUrl}/api/alerts`);const o=e(0),c=e(10),m=r(()=>[{key:"title",type:"text",label:"Subject",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"content",type:"text",label:"Content",listable:!1,viewable:!0,creatable:!0,updatable:!1}]),u=e([]),s=e(0),n=e(!0);async function b(a){o.value=a,await i()}function g(a){v.show(a)}async function i(){await h.list("alerts",{offset:o.value,limit:c.value}).then(a=>{u.value=a.data,s.value=a.total,n.value=!1}).catch(a=>{n.value=!1,g(JSON.stringify(a,!1,4))})}return B(async()=>{await i()}),(a,E)=>(l(),d("div",H,[N,s.value===0?(l(),d("div",O," You have no unread message. ")):f("",!0),s.value>0?(l(),C(_(S),{key:1,name:"",headers:_(m),data:u.value,loading:n.value,pagination:{offset:o.value,limit:c.value,client:!1},"total-data":s.value,onOffsetChange:b},null,8,["headers","data","loading","pagination","total-data"])):f("",!0)]))}},M=x(j,[["__scopeId","data-v-2437eaa0"]]);export{M as default};
