import{_ as b,n as w,a as S,u as B,c as r,r as i,o as C,b as d,d as D,i as M,t as E,g as m,f as x,e as R}from"./index-5d3b5062.js";import{u as j}from"./utils-3e19fdef.js";import{T as I}from"./TemplateEditor-e7bcc1e5.js";import"./validations-9a1af222.js";import"./TabContainer-f41a1449.js";const O={class:"page-container"},P={class:"heading"},U={__name:"PreviewTemplate",props:{disabled:{type:Boolean,default:!1}},setup(v){const _=w(),l=S(),{flashMessage:n}=B(),{initSampleData:y}=j(),p=Object.assign({},_.currentRoute.value),c=r(()=>p.params.id),t=r(()=>p.params.templateType),u=i({}),e=i(),f=r(()=>e.value?t.value==="invoice_templates"?`Invoice Template: ${e.value.name}`:`Receipt Template: ${e.value.name}`:"");async function g(a){const o=Object.assign({},e.value,{contentMarkup:a});await l.update(t.value,c.value,o).then(s=>{e.value=s,n("Updated markup successfully!")}).catch(s=>{console.error(s),n("Error updating markup!")})}async function h(a){const o=Object.assign({},e.value,{contentStyles:a});await l.update(t.value,c.value,o).then(s=>{e.value=s,n("Updated styles successfully!")}).catch(s=>{console.error(s),n("Error updating styles !")})}function k(a){u.value[t.value]=a}async function T(){await l.view(t.value,c.value,{}).then(a=>{e.value=a}).catch(a=>{n("Error loading template!"),console.log(a)})}return C(async()=>{u.value=y(t.value),await T()}),(a,o)=>(d(),D("div",O,[M("h2",P,E(m(f)),1),e.value?(d(),x(I,{key:0,id:e.value.id,"template-type":m(t),"content-markup":e.value.contentMarkup,"content-styles":e.value.contentStyles,data:u.value,disabled:v.disabled,onContentMarkupChange:g,onContentStylesChange:h,onDataChange:k},null,8,["id","template-type","content-markup","content-styles","data","disabled"])):R("",!0)]))}},z=b(U,[["__scopeId","data-v-b7952d7a"]]);export{z as default};
