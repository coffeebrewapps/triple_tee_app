import{_ as g,u as y,a as w,r as a,c as x,o as k,b as l,d as r,e as f,f as B,g as _,R as S,p as I,h as V,i as A}from"./index-4d73f140.js";const C=t=>(I("data-v-2b12b746"),t=t(),V(),t),D={class:"page-container"},H=C(()=>A("h2",{class:"heading"}," Inbox ",-1)),N={key:0,class:"no-data-text"},O={__name:"HomeView",setup(t){const c=y(),p=w(),o=a(0),u=a(10),v=x(()=>[{key:"title",type:"text",label:"Subject",listable:!0,viewable:!0,creatable:!0,updatable:!1},{key:"content",type:"text",label:"Content",listable:!1,viewable:!0,creatable:!0,updatable:!1}]),i=a([]),s=a(0),n=a(!0);async function b(e){o.value=e,await d()}function h(e){c.show(e),setTimeout(m,5e3)}function m(){c.hide()}async function d(){await p.list("alerts",{offset:o.value,limit:u.value}).then(e=>{i.value=e.data,s.value=e.total,n.value=!1}).catch(e=>{n.value=!1,h(JSON.stringify(e,!1,4))})}return k(async()=>{await d()}),(e,R)=>(l(),r("div",D,[H,s.value===0?(l(),r("div",N," You have no unread message. ")):f("",!0),s.value>0?(l(),B(_(S),{key:1,name:"",headers:_(v),data:i.value,loading:n.value,pagination:{offset:o.value,limit:u.value,client:!1},"total-data":s.value,onOffsetChange:b},null,8,["headers","data","loading","pagination","total-data"])):f("",!0)]))}},E=g(O,[["__scopeId","data-v-2b12b746"]]);export{E as default};
