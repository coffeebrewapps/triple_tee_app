import{_ as B,m as S,a as C,u as D,c as r,r as d,o as E,b as m,d as M,i as x,t as R,g as v,f as j,e as I}from"./index-456a89cc.js";import{u as O}from"./utils-3e19fdef.js";import{T as P}from"./TemplateEditor-4ab264f1.js";import"./TabContainer-65d2b41a.js";const U={class:"page-container"},A={class:"heading"},N={__name:"PreviewTemplate",props:{disabled:{type:Boolean,default:!1}},setup(_){const f=S(),l=C(),p=D(),{initSampleData:y}=O(),i=Object.assign({},f.currentRoute.value),u=r(()=>i.params.id),t=r(()=>i.params.templateType),c=d({}),e=d(),h=r(()=>e.value?t.value==="invoice_templates"?`Invoice Template: ${e.value.name}`:`Receipt Template: ${e.value.name}`:"");async function g(a){const o=Object.assign({},e.value,{contentMarkup:a});await l.update(t.value,u.value,o).then(n=>{e.value=n,s("Updated markup successfully!")}).catch(n=>{console.error(n),s("Error updating markup!")})}async function T(a){const o=Object.assign({},e.value,{contentStyles:a});await l.update(t.value,u.value,o).then(n=>{e.value=n,s("Updated styles successfully!")}).catch(n=>{console.error(n),s("Error updating styles !")})}function k(a){c.value[t.value]=a}function s(a){p.show(a),setTimeout(w,5e3)}function w(){p.hide()}async function b(){await l.view(t.value,u.value,{}).then(a=>{e.value=a}).catch(a=>{s("Error loading template!"),console.log(a)})}return E(async()=>{c.value=y(t.value),await b()}),(a,o)=>(m(),M("div",U,[x("h2",A,R(v(h)),1),e.value?(m(),j(P,{key:0,id:e.value.id,"template-type":v(t),"content-markup":e.value.contentMarkup,"content-styles":e.value.contentStyles,data:c.value,disabled:_.disabled,onContentMarkupChange:g,onContentStylesChange:T,onDataChange:k},null,8,["id","template-type","content-markup","content-styles","data","disabled"])):I("",!0)]))}},F=B(N,[["__scopeId","data-v-860aaa6f"]]);export{F as default};
