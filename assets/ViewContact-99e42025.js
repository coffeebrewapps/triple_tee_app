import{_ as O,n as q,b as H,q as K,a as U,c as w,r as z,o as G,d as e,e as n,j as u,t as f,h as t,g as B,v as J,f as d,x as c,F as E,y as k,k as _}from"./index-b3128bd9.js";import{u as P}from"./utils-5b067b20.js";import{u as Q,a as W}from"./Form-77967d6a.js";import{T as X}from"./TabContainer-8746c156.js";import Y from"./InvoiceConfigs-cbc1dd40.js";import Z from"./ReceiptConfigs-5bc28f91.js";import tt from"./BillingConfigs-0b5ab7f9.js";import at from"./Invoices-0ba05c89.js";import"./errors-a6177d44.js";import"./DataPage-726cf7ba.js";import"./utils-47359872.js";const et={class:"page-container"},nt={class:"heading"},ot={class:"contact-container"},st={class:"data-row"},ct={class:"data-field"},it={class:"field-label"},lt={class:"field-value"},rt={key:0},ut={key:1},dt={__name:"ViewContact",setup(_t){const I=q(),{fieldsLayout:T,dataFields:m,filters:ft,validations:mt,includeKeys:p,countryValue:pt,countryLabel:vt}=P(),{schemasMap:gt,inputLabel:V,inputValue:D}=Q(m),x=H(),{isEmpty:v,notEmpty:g}=W(),i=K(),h=U(),L=Object.assign({},I.currentRoute.value),s=w(()=>L.params.id),a=z(),R=w(()=>a.value?`Contact: ${a.value.name}`:"Loading Contact...");async function b(){a.value=null;const o={include:p.value};await x.view("contacts",s.value,o).then(l=>{a.value=l,y("Loaded contact successfully!")}).catch(l=>{console.log(l),y("Error loading contact!")})}function y(o){h.show(o),setTimeout($,5e3)}function $(){h.hide()}const C=[{label:"Details",onchange:b},{label:"Invoice Configs",onchange:j},{label:"Receipt Configs",onchange:F},{label:"Billing Configs",onchange:N},{label:"Invoices",onchange:S}];async function j(){i.emitEvent("loadData",{dataType:"Invoice Configs"})}async function F(){i.emitEvent("loadData",{dataType:"Receipt Configs"})}async function N(){i.emitEvent("loadData",{dataType:"Billing Configs"})}async function S(){i.emitEvent("loadData",{dataType:"Invoices"})}function A(o){C[o].onchange()}return G(async()=>{await b()}),(o,l)=>(e(),n("div",et,[u("h2",nt,f(t(R)),1),a.value?d("",!0):(e(),B(t(J),{key:0})),a.value?(e(),B(X,{key:1,tabs:C,onTabChange:A},{"tab-0":c(()=>[u("div",ot,[(e(!0),n(E,null,k(t(T),M=>(e(),n("div",st,[(e(!0),n(E,null,k(Object.keys(M),r=>(e(),n("div",ct,[u("div",it,f(t(V)(r)),1),u("div",lt,[t(g)(a.value)&&t(g)(a.value[r])?(e(),n("span",rt,f(t(D)(r,a.value,t(p),t(m))),1)):d("",!0),t(v)(a.value)||t(v)(a.value[r])?(e(),n("span",ut," --- no value --- ")):d("",!0)])]))),256))]))),256))])]),"tab-1":c(()=>[_(Y,{"billing-contact-id":t(s)},null,8,["billing-contact-id"])]),"tab-2":c(()=>[_(Z,{"billing-contact-id":t(s)},null,8,["billing-contact-id"])]),"tab-3":c(()=>[_(tt,{"contact-id":t(s)},null,8,["contact-id"])]),"tab-4":c(()=>[_(at,{"contact-id":t(s)},null,8,["contact-id"])]),_:1})):d("",!0)]))}},Dt=O(dt,[["__scopeId","data-v-6a6baadf"]]);export{Dt as default};
