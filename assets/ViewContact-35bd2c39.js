import{_ as S,j as A,k as M,u as O,c as y,r as Z,o as H,a as e,b as n,h as u,t as f,f as a,e as C,Z as K,d,l as c,F as w,m as B,i as _}from"./index-0145d739.js";import{u as q}from"./utils-8118c7e7.js";import{u as z}from"./Form-a8ccb837.js";import{a as G}from"./dataAccess-952e8a85.js";import{T as J}from"./TabContainer-f09b204c.js";import P from"./view-c2194373.js";import Q from"./view-e1b0f36e.js";import W from"./view-6389615a.js";import X from"./view-116d302c.js";import"./errors-a6177d44.js";import"./DataPage-c0c28866.js";import"./utils-9d158d61.js";const Y={class:"page-container"},tt={class:"heading"},at={class:"contact-container"},et={class:"data-row"},nt={class:"data-field"},ot={class:"field-label"},st={class:"field-value"},ct={key:0},it={key:1},lt={__name:"ViewContact",setup(rt){const k=A(),{contactsUrl:ut,invoiceConfigsUrl:dt,countriesUrl:_t,fieldsLayout:I,dataFields:m,filters:ft,validations:mt,includeKeys:v,countryValue:vt,countryLabel:pt}=q(),{schemasMap:gt,inputLabel:T,inputValue:E}=z(m),V=G(),i=M(),p=O(),D=Object.assign({},k.currentRoute.value),s=y(()=>D.params.id),t=Z(),L=y(()=>t.value?`Contact: ${t.value.name}`:"Loading Contact...");async function g(){t.value=null;const o={include:v.value};await V.view("contacts",s.value,o).then(l=>{t.value=l,h("Loaded contact successfully!")}).catch(l=>{console.log(l),h("Error loading contact!")})}function h(o){p.show(o),setTimeout(R,5e3)}function R(){p.hide()}const b=[{label:"Details",onchange:g},{label:"Invoice Configs",onchange:x},{label:"Receipt Configs",onchange:$},{label:"Billing Configs",onchange:U},{label:"Invoices",onchange:j}];async function x(){i.emitEvent("loadData",{dataType:"Invoice Configs"})}async function $(){i.emitEvent("loadData",{dataType:"Receipt Configs"})}async function U(){i.emitEvent("loadData",{dataType:"Billing Configs"})}async function j(){i.emitEvent("loadData",{dataType:"Invoices"})}function F(o){b[o].onchange()}return H(async()=>{await g()}),(o,l)=>(e(),n("div",Y,[u("h2",tt,f(a(L)),1),t.value?d("",!0):(e(),C(a(K),{key:0})),t.value?(e(),C(J,{key:1,tabs:b,onTabChange:F},{"tab-0":c(()=>[u("div",at,[(e(!0),n(w,null,B(a(I),N=>(e(),n("div",et,[(e(!0),n(w,null,B(Object.keys(N),r=>(e(),n("div",nt,[u("div",ot,f(a(T)(r)),1),u("div",st,[t.value&&t.value[r]?(e(),n("span",ct,f(a(E)(r,t.value,a(v),a(m))),1)):d("",!0),!t.value||!t.value[r]?(e(),n("span",it," --- no value --- ")):d("",!0)])]))),256))]))),256))])]),"tab-1":c(()=>[_(P,{"billing-contact-id":a(s)},null,8,["billing-contact-id"])]),"tab-2":c(()=>[_(Q,{"billing-contact-id":a(s)},null,8,["billing-contact-id"])]),"tab-3":c(()=>[_(W,{"contact-id":a(s)},null,8,["contact-id"])]),"tab-4":c(()=>[_(X,{"contact-id":a(s)},null,8,["contact-id"])]),_:1})):d("",!0)]))}},Lt=S(lt,[["__scopeId","data-v-37d1f0f6"]]);export{Lt as default};
